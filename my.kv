#:kivy 2.3.0
<ScreenManagement>:
    SigninPage:
    GuestScreen:
    KnowledgeScreen:
    MapWidget:

<SigninPage>:
    name: 'sign'
    GridLayout:
        cols:1
        size: (root.width, root.height)
        padding: 10
        spacing: 10
        canvas.before:
            Color:
                rgba: 1, 1, .878,1
            Rectangle:
                size: self.size
                pos: self.pos

        Label:
            text: "Enter the Trail Code"
            font_size: '20sp'
            bold: True
            color: 0, 0, 0, 1
        TextInput:
            id: trail_code_input
            multiline:False
            size_hint_y: None
            height: '40sp'
            font_size: '16sp'
            padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

        Button:
            text: "Continue as Guest"
            font_size: 36
            background_color: 0,0,0,0
            canvas.before:
                Color:
                    rgba: 34/255.0, 139/255.0, 34/255.0, 1 # RGB color for forest green color.
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [18,]
            color: 1, 1, 1, 1
            size_hint_y: None
            height: '50sp'
            on_press: root.go_to_knowledge(trail_code_input.text)


<GuestScreen>
    name: 'guest'
    orientation: 'vertical'

<KnowledgeScreen>
    name: 'knowledge'
    orientation: 'vertical'
    spacing: 10
    padding: 10

    BoxLayout:
        orientation: 'vertical'
        Label:
            id: trail_code_display
            font_size: '20sp'

        GridLayout:
            cols: 2
            spacing: 30

            TextInput:
                text: 'Weather'
                background_color: 1, 0, 0, 1
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
            TextInput:
                text: 'Alert'
                background_color: 0, 1, 0, 1
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
            TextInput:
                text: 'More Info'
                background_color: 0, 0, 1, 1
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
            TextInput:
                text: 'Warning'
                background_color: 1, 1, 0, 1
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
        
        Button:
            text: 'Connect with someone else'
            size_hint_y: None
            height: '50dp'
            background_color: 0, 1, 0, 1
            color: 1, 1, 1, 1  # Text color is white
            font_size: '20sp'
        
        MapWidget:
            size_hint: 1, 1

<MapWidget>:
    canvas:
        Color:
            rgba: 0.3, 0.3, 0.3, 1
        Rectangle:
            pos: self.pos
            size: self.size
